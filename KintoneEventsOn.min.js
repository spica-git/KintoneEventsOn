(function(){function b(a,d){this.c=a;this.w=d||function(){};this.h={s:!1,A:[]};var c=Object.keys(b.i);c.sort(function(a,b){return"first"==a||"last"==b?-1:"last"==a||"first"==b?1:a-b});this.j=-1;this.b=[];for(var e=0;e<c.length;e++)b.i[c[e]].hasOwnProperty(this.c.type)&&this.b.push(b.i[c[e]][this.c.type])}b.o={};b.i={};b.a={};b.g={};b.v=function(a,d){return(new b(a,function(){"function"===typeof d&&d();b.u(a)})).l()};b.C=function(a,d){b.a.hasOwnProperty(d)||(b.a[d]=[]);-1===b.a[d].indexOf(a)&&b.a[d].push(a)};
b.u=function(a){b.a[a.type]=[];for(c in b.a)0<b.a[c].length&&(b.g[c]=!0),b.a[c]=[];if(a.f){var d=null;a.changes&&0<=a.type.indexOf(".change.")&&(d=a.type.substring(a.type.indexOf(".change.")+8));for(var c in a.f)b.a.hasOwnProperty(c)&&0<b.a[c].length?a.f[c].error=(a.f[c].error||"")+b.a[c].join("\n"):d===c&&b.g[c]&&(a.f[c].error=null,b.g[c]=!1)}0<b.a[a.type].length&&(a.error=(a.error||"")+b.a[a.type].join("\n"))};b.prototype.l=function(){if(++this.j>=this.b.length)return this.w(null),this.h.s?!1:this.c;
for(var a=[],b=0;b<this.b[this.j].length;b++){var c=this.b[this.j][b](this.c);!1===c?this.h.s=!0:c instanceof window.kintone.Promise&&a.push(c)}return 0===a.length?this.l():this.B(a)};b.prototype.B=function(a){a=window.kintone.Promise.all(a);this.h.A.push(a);return a.then(function(){return this.l()}.bind(this))};window.KintoneEventsOn=function(a,d,c){"string"===typeof a&&(a=[a]);if(!(a instanceof Array)||"function"!==typeof d)return!1;c=c||"0";"string"!=typeof c&&(c=c.toString());b.m[c]=b.m[c]||{};
c=b.m[c];for(var e=0;e<a.length;e++)c.hasOwnProperty(a[e])||(c[a[e]]=[]),c[a[e]].push(d),b.o[a[e]]||(b.o[a[e]]=!0,window.kintone.events.on(a[e],function(a){try{return b.v(a,function(){})}catch(f){console.warn(f)}}))}})();